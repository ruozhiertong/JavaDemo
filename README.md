0.本项目基于《Java从小白到大牛》中的QQ项目。在此基础上添加新功能。
目前功能：1.注册。 2.登录。 3.添加好友。 4.聊天。 5.消息通知，好友上线 下线通知。 6.离线消息。


TODO:
~~1.上线通知。 左下角弹窗。 ok。~~
2.消息条数显示，当未在聊天窗口时，应该在用户列表显示消息条数。
~~3.关于离线消息。 如果在我离线时，好友发送消息，那么在我上线的时候，应该可以获取到消息。ok.~~
~~4.添加好友功能。好友发起请求，我同意，则两人成为好友。 ok。~~

5.好友分组。

6.多处异地登录。 目前是只能单个登录，最新登录的才有效。（在服务端进行修改，维持用户的多个聊天socket即可）

7.头像上传和下载。 用户自定义头像。 

8.重构。 对客户端 服务端进行重构。感觉原先的项目设计得不够合理。 进行第二版的重构。



Q&A:
~~Q1.很奇怪，为什么客户端的线程不统一处理，而是分开处理，感觉没必要。应该有一个更好的处理方法。不同线程处理不同的事情。 每开一个聊天对话框应该开一个相关的线程。~~
~~A1.在主界面维持一个线程 获取系统信息(如用户上线，收到未在聊天框的消息等)。 而每个聊天框 维护一个线程，接收消息。应该重新设计。~~

~~Q2.BUG. 垃圾程序啊，这么明显的bug看不出来：和多个人聊天的时候，导致消息交叉混乱的bug。这是因为同用一个socket导致的。多个对话框使用同一个socket，所以消息被谁收到都有可能。  解决bug，按照A1思路去解决。现在的问题是 如何让服务器找到所有的clientinfo. 难道要客户端 关闭对话窗口后，服务端再删除对话端的clientinfo？不合理啊。虽然不是很合理，但是比较可行。（应该是合理的，因为服务端要知道客户端的socket 需要客户端的配合，所以客户端的socket新建 关闭 也应该让服务端知道）  服务端如何知道客户端起了一个对话窗口呢？ 应该是 不用知道。 让客户端自己去知道。 客户端自己维持知道客户单的聊天窗口，每次接收消息后，让客户端进行调度。 流程变成这样：客户端总调度接收到消息，然后分发给各个线程。 让客户端 对话框之间进行p2p。（不不不，让完全客户端自己维护不行的，因为服务端也要知道信息的，不然无法让两用户之间交流，除非用户和用户p2p，不要服务端）~~
很多时候，解决方案就是各种妥协，有时候可以先实现了，再一步步去迭代。
综上，客户端维护一个总的线程，负责接收系统消息等。 每个对话窗口 起一个线程去处理，关闭的时候再关闭对话窗口。  服务端就维护一个用户列表，每个客户都维持一组socket。

~~Q3.bug.当客户端开启一个用户聊天窗，关闭，再开启同一个用户聊天窗。可能导致聊天窗的线程 问题，线程中的socket问题。其次，服务端的客户端socket也有可能导致问题。 服务端因为一个用户应该只维持一个用户socket连接，如果多个，聊天会混乱。 解决方法，优化客户端的流程和服务端。~~
~~Q3问题主要是网路编程 socket 在多线程中的问题。 ~~




待验证：
~~1.双开同一个用户聊天框。 正确的应该是不能双开同一个用户聊天窗。~~
~~2.Frame线程 会不会在窗体销毁后，线程还在跑。 如果只是纯粹销毁窗体，线程依旧在跑。 见MessageFrame, 在其dispose后，依然在跑。~~
~~3.最小化，并不是不可见。~~
~~4.JPanel默认的布局管理器是FlowLayout。  JFrame的面板：~~
~~5.如果一个容器的布局管理器被设置为空，那么容器中的组件的位置都要明确设定，否则找不到位置，组件显示不出来。~~
6.需要好好设计json的格式。要统一。 比如：通用的，err／result,msg,等。 需重构。

